<script type="module">
  document.documentElement.classList.remove('no-js');
  document.documentElement.classList.add('js');
</script>

<link rel="canonical" href="{{ .Permalink }}">

<link rel="icon" href="/favicon.ico">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/site.webmanifest">

{{ if $.Site.Params.themeColor }}
<meta name="theme-color" content="{{ $.Site.Params.themeColor }}">
{{ end }}

{{ $base := resources.Get "css/base.css" }}
{{ $layout := resources.Get "css/layout.css" }}
{{ $utils := resources.Get "css/utils.css" }}
{{ $style := resources.Get "css/style.css" }}
{{ if .Site.IsServer }}
<link rel="stylesheet" href="{{ $base.RelPermalink }}" />
<link rel="stylesheet" href="{{ $layout.RelPermalink }}" />
<link rel="stylesheet" href="{{ $utils.RelPermalink }}" />
<link rel="stylesheet" href="{{ $style.RelPermalink }}" />
{{ else }}
{{ $css := slice $base $layout $utils $style | resources.Concat "css/main.css" }}
{{ $css := $css | resources.Minify | resources.Fingerprint "sha256" }}
<link rel="stylesheet" href="{{ $css.RelPermalink }}" {{ printf "integrity=%q" $css.Data.Integrity | safeHTMLAttr }} />
{{ end}}
